---
// This component should be located at src/components/sections/ProcessSection.astro
import ProcessStepCard from '../ui/ProcessStepCard.astro'; // Assuming ProcessStepCard.astro is in src/components/ui/
import Button from '../ui/Button.astro'; // Assuming Button.astro is in src/components/ui/
import Container from '../common/Container.astro'; // Assuming Container.astro is in src/components/common/

// Define the structure for a single process step, as per 04-content-schema.md
interface ProcessStep {
  title: string;
  description: string;
  image?: { src: string; alt: string; }; // Optional image for each step
}

// Define the props for the ProcessSection component
interface Props {
  title?: string;
  description?: string;
  steps: ProcessStep[];
  ctaText?: string;
  ctaLink?: string;
}

// Destructure props with default values from 02-features.md and 01-vision.md
const {
  title = "Our Proven Process for Lasting Quality",
  description = "Experience the Joe the Painter difference. Our meticulous approach ensures every project is completed with unparalleled craftsmanship and attention to detail, from initial consultation to the final walkthrough.",
  steps,
  ctaText = "Book Your Free Consultation",
  ctaLink = "/consultation"
} = Astro.props;
---

<section class="bg-neutral-50 py-16 md:py-24">
  <Container>
    <div class="text-center max-w-3xl mx-auto mb-12 md:mb-16">
      <h2 class="font-heading text-4xl md:text-5xl font-bold text-neutral-900 mb-4">
        {title}
      </h2>
      <p class="font-body text-lg text-neutral-500">
        {description}
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-12">
      {steps.map((step, index) => (
        <ProcessStepCard
          stepNumber={index + 1}
          title={step.title}
          description={step.description}
          image={step.image}
        />
      ))}
    </div>

    {ctaText && ctaLink && (
      <div class="mt-16 text-center">
        <Button href={ctaLink} variant="primary" size="lg">
          {ctaText}
        </Button>
      </div>
    )}
  </Container>
</section>