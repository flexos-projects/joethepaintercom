---
interface Props {
  id: string;
  name: string;
  placeholder?: string;
  value?: string;
  rows?: number;
  required?: boolean;
  class?: string;
  error?: string; // For displaying validation errors
}

const {
  id,
  name,
  placeholder,
  value,
  rows = 4,
  required = false,
  class: className,
  error,
} = Astro.props;
---
<textarea
  id={id}
  name={name}
  placeholder={placeholder}
  rows={rows}
  required={required}
  class:list={[
    "w-full px-spacing-3 py-spacing-2 border rounded-md text-text bg-surface",
    "border-border focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-normal",
    error ? "border-error focus:ring-error" : "", // Use ring-error for consistency
    className
  ]}
  aria-invalid={error ? "true" : "false"}
  aria-describedby={error ? `${id}-error` : undefined}
>{value}</textarea>
{error && (
  <p id={`${id}-error`} class="text-error text-xs mt-spacing-1" role="alert">
    {error}
  </p>
)}