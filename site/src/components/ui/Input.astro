---
interface Props {
  id: string;
  name: string;
  type?: 'text' | 'email' | 'tel' | 'password' | 'url' | 'number';
  placeholder?: string;
  value?: string;
  required?: boolean;
  autocomplete?: string;
  class?: string;
  error?: string; // For displaying validation errors
}

const {
  id,
  name,
  type = 'text',
  placeholder,
  value,
  required = false,
  autocomplete,
  class: className,
  error,
} = Astro.props;
---
<input
  id={id}
  name={name}
  type={type}
  placeholder={placeholder}
  value={value}
  required={required}
  autocomplete={autocomplete}
  class:list={[
    "w-full px-spacing-3 py-spacing-2 border rounded-md text-text bg-surface",
    "border-border focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-normal",
    error ? "border-error focus:ring-error" : "", // Use ring-error for consistency
    className
  ]}
  aria-invalid={error ? "true" : "false"}
  aria-describedby={error ? `${id}-error` : undefined}
/>
{error && (
  <p id={`${id}-error`} class="text-error text-xs mt-spacing-1" role="alert">
    {error}
  </p>
)}