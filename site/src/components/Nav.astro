---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'nav'> {
  isMobile?: boolean;
}

const { isMobile = false, ...attrs } = Astro.props;

const navItems = [
  { name: 'Home', href: '/' },
  { name: 'Painting Services', href: '/services/painting' },
  { name: 'Handy Services', href: '/services/handy' },
  { name: 'Our Work', href: '/our-work' },
  { name: 'About Joe', href: '/about' },
  { name: 'Contact', href: '/contact' },
];

const linkClasses = `
  font-body font-medium text-text-dark hover:text-primary focus-visible:text-primary
  motion-safe:transition-colors motion-reduce:transition-none
  relative after:absolute after:bottom-0 after:left-0 after:w-full after:h-px after:bg-primary after:scale-x-0 after:origin-left after:transition-transform after:duration-300 after:ease-out
  hover:after:scale-x-100 focus-visible:after:scale-x-100
`;
const mobileLinkClasses = `
  font-heading text-3xl font-bold text-text-dark hover:text-primary focus-visible:text-primary
  motion-safe:transition-colors motion-reduce:transition-none py-4 w-full text-center
  block
`;
---

<ul role="list" class:list={[
  'flex',
  isMobile ? 'flex-col space-y-4' : 'space-x-6',
  attrs.class
]}>
  {navItems.map((item) => (
    <li>
      <a
        href={item.href}
        class:list={[
          isMobile ? mobileLinkClasses : linkClasses,
          Astro.url.pathname === item.href ? (isMobile ? 'text-primary' : 'text-primary after:scale-x-100') : '' // Active state
        ]}
        aria-current={Astro.url.pathname === item.href ? 'page' : false}
      >
        {item.name}
      </a>
    </li>
  ))}
</ul>