---
import Button from './ui/Button.astro';

interface NavLink {
  text: string;
  href: string;
}

interface Props {
  links: NavLink[];
  isMobile?: boolean;
}

const { links, isMobile = false } = Astro.props;

const linkClasses = `font-body font-medium text-base text-text
                     hover:text-primary transition-colors duration-fast ease-default
                     focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-sm`;

const mobileLinkClasses = `font-heading text-3xl text-text mb-6 no-underline
                           hover:text-primary transition-colors duration-fast ease-default
                           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-sm`;
---

<nav aria-label={isMobile ? "Mobile navigation" : "Main navigation"}>
  <ul class:list={[
    'flex',
    isMobile ? 'flex-col items-center' : 'space-x-8 lg:space-x-10'
  ]} role="list">
    {links.map((link) => (
      <li class:list={[isMobile ? 'mb-6' : '']}>
        <a
          href={link.href}
          class:list={[
            isMobile ? mobileLinkClasses : linkClasses,
            Astro.url.pathname === link.href ? 'text-primary border-b-2 border-primary' : '',
            !isMobile ? 'py-2 px-3' : '' // Add padding for desktop links
          ]}
          aria-current={Astro.url.pathname === link.href ? 'page' : undefined}
        >
          {link.text}
        </a>
      </li>
    ))}
    <li class:list={[isMobile ? 'mt-8' : '']}>
      <Button href="/book-consultation" size={isMobile ? 'lg' : 'md'}>
        Book a Free Consultation
      </Button>
    </li>
  </ul>
</nav>