---
import { Image } from 'astro:assets';
// Assuming logo.svg is in src/assets and @/assets alias is configured
// If logo is in public/images, use '/images/logo.svg' directly without Image component import
import logo from '@/assets/logo.svg'; 
import Button from '@/components/ui/Button.astro';
import Input from '@/components/ui/Input.astro'; // Assuming Input component exists

const cslbUrl = `https://www.cslb.ca.gov/OnlineServices/CheckLicenseII/LicenseDetail.aspx?LicNum=802167`;

const footerNav = [
  { name: 'Home', href: '/' },
  { name: 'Painting Services', href: '/services/painting' },
  { name: 'Handy Services', href: '/services/handy' },
  { name: 'Our Work', href: '/our-work' },
  { name: 'About Joe', href: '/about' },
  { name: 'Contact', href: '/contact' },
  { name: 'FAQs', href: '/faq' },
  { name: 'Our Process', href: '/process' },
];

// Social media links - using example URLs as specific ones are not provided
const socialLinks = [
  { name: 'Facebook', href: 'https://facebook.com/joethepainter', icon: 'M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z' }, // Facebook SVG path
  { name: 'Instagram', href: 'https://instagram.com/joethepainter', icon: 'M12 2c2.71 0 3.05.01 4.12.06 1.07.05 1.79.23 2.42.48.6.24 1.14.56 1.63 1.05.49.49.81 1.03 1.05 1.63.25.63.43 1.35.48 2.42.05 1.07.06 1.41.06 4.12s-.01 3.05-.06 4.12c-.05 1.07-.23 1.79-.48 2.42-.24.6-.56 1.14-1.05 1.63-.49.49-1.03.81-1.05 1.63-.25.63-.43 1.35-.48 2.42-.05 1.07-.06 1.41-.06 4.12s.01 3.05.06 4.12c.05 1.07.23 1.79.48 2.42.24-.6.56-1.14 1.05-1.63.49-.49 1.03-.81 1.05-1.63.25-.63.43-1.35.48-2.42.05-1.07.06-1.41.06-4.12s-.01-3.05-.06-4.12c-.05-1.07-.23-1.79-.48-2.42-.24-.6-.56-1.14-1.05-1.63-.49-.49-1.03-.81-1.05-1.63-.25-.63-.43-1.35-.48-2.42C8.95 2.01 9.29 2 12 2zm0 1.6c-2.67 0-3 .01-4.04.06-1.02.05-1.64.21-2.09.39-.42.18-.74.42-1.08.76-.34.34-.58.66-.76 1.08-.18.45-.34 1.07-.39 2.09-.05 1.04-.06 1.37-.06 4.04s.01 3 .06 4.04c.05 1.02.21 1.64.39 2.09.18.42.42.74.76 1.08.34.34.66.58 1.08.76.45.18 1.07.34 2.09.39 1.04.05 1.37.06 4.04.06s3-.01 4.04-.06c1.02-.05 1.64-.21 2.09-.39.42-.18.74-.42 1.08-.76.34-.34.66-.58 1.08-.76.18-.45.34-1.07.39-2.09.05-1.04.06-1.37.06-4.04s-.01-3-.06-4.04c-.05-1.02-.21-1.64-.39-2.09-.18-.42-.42-.74-.76-1.08-.34-.34-.66-.58-1.08-.76-.45-.18-1.07-.34-2.09-.39-1.04-.05-1.37-.06-4.04-.06zm0 2.4a6.4 6.4 0 100 12.8 6.4 6.4 0 000-12.8zm0 1.6a4.8 4.8 0 110 9.6 4.8 4.8 0 010-9.6zm6.5-1.7a1.6 1.6 0 110 3.2 1.6 1.6 0 010-3.2z' }, // Instagram SVG path
  { name: 'Yelp', href: 'https://www.yelp.com/biz/joe-the-painter-san-diego', icon: 'M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 17.5c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5 7.5 3.36 7.5 7.5-3.36 7.5-7.5 7.5zm.5-11.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5zM12 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z' } // Generic Yelp-like star/icon path (using a generic star for simplicity)
];

// Newsletter Formspree endpoint placeholder
const newsletterFormAction = "https://formspree.io/f/YOUR_NEWSLETTER_FORM_ID"; // Replace with actual Formspree ID
---

<footer class="bg-neutral-800 text-neutral-500 py-12 md:py-16">
  <div class="container mx-auto px-4 max-w-7xl">
    <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-8 border-b border-neutral-700 pb-8 mb-8">
      <!-- Company Info / Logo -->
      <div class="md:col-span-2 lg:col-span-2">
        <a href="/" class="flex items-center mb-4 group" aria-label="Joe the Painter homepage">
          <Image src={logo} alt="Joe the Painter Logo" width={40} height={40} class="mr-3 transition-transform duration-300 group-hover:scale-110" />
          <span class="font-heading text-2xl font-bold text-white group-hover:text-primary transition-colors duration-300">JOE THE PAINTER</span>
        </a>
        <p class="text-sm leading-relaxed max-w-md">
          Your trusted, licensed craftsman for meticulous painting and reliable handyman services in San Diego County since 2001.
        </p>
        <p class="text-sm mt-4">
          <a
            href={cslbUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-primary hover:text-[#003B8D] transition-colors duration-200 ease-in-out"
            aria-label="Verify Joe the Painter's California License Number 802167 on CSLB website"
          >
            CA Lic. # 802167 <span class="sr-only">(Opens in new tab)</span>
          </a>
        </p>
      </div>

      <!-- Navigation Links -->
      <nav class="md:col-span-1 lg:col-span-1" aria-label="Footer navigation">
        <h3 class="font-heading text-lg font-semibold text-white mb-4">Quick Links</h3>
        <ul role="list" class="space-y-3">
          {footerNav.map(link => (
            <li key={link.name}>
              <a href={link.href} class="text-neutral-500 hover:text-white transition-colors duration-200 ease-in-out">
                {link.name}
              </a>
            </li>
          ))}
        </ul>
      </nav>

      <!-- Contact Info & Social Media-->
      <div class="md:col-span-1 lg:col-span-1">
        <h3 class="font-heading text-lg font-semibold text-white mb-4">Contact Joe</h3>
        <address class="not-italic space-y-3">
          <p>
            <a href="tel:+17605808173" class="text-neutral-500 hover:text-white transition-colors duration-200 ease-in-out">
              +1 (760) 580-8173
            </a>
          </p>
          <p>
            <a href="mailto:joe@joethepainter.com" class="text-neutral-500 hover:text-white transition-colors duration-200 ease-in-out">
              joe@joethepainter.com
            </a>
          </p>
          <p class="text-neutral-500">
            Serving San Diego County, CA
          </p>
        </address>
        <div class="mt-6">
          <h3 class="font-heading text-lg font-semibold text-white mb-4 sr-only">Connect with Joe</h3>
          <div class="flex space-x-4">
            {socialLinks.map(link => (
              <a
                key={link.name}
                href={link.href}
                target="_blank"
                rel="noopener noreferrer"
                class="text-neutral-500 hover:text-primary transition-colors duration-200 ease-in-out"
                aria-label={`Visit Joe the Painter on ${link.name} (Opens in new tab)`}
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d={link.icon} />
                </svg>
                <span class="sr-only">{link.name}</span>
              </a>
            ))}
          </div>
        </div>
      </div>

      <!-- Call to Action / Newsletter -->
      <div class="md:col-span-4 lg:col-span-1">
        <h3 class="font-heading text-lg font-semibold text-white mb-4">Ready to Start?</h3>
        <p class="text-sm text-neutral-500 mb-4">
          Schedule your free consultation today.
        </p>
        <Button variant="accent" size="md" href="/consultation" class="w-full">
          Book a Free Consultation
        </Button>
        
        <h3 class="font-heading text-lg font-semibold text-white mt-8 mb-4">Stay in the Loop</h3>
        <p class="text-sm text-neutral-500 mb-4">
          Get Joe's tips for home maintenance and painting straight to your inbox.
        </p>
        <form action={newsletterFormAction} method="POST" class="flex flex-col gap-3">
          <Input type="email" name="email" placeholder="Your email address" aria-label="Enter your email for newsletter"
                 class="w-full p-3 rounded-md bg-neutral-700 border border-neutral-600 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary" />
          <Button variant="secondary" size="sm" type="submit" class="w-full">Subscribe</Button>
        </form>
      </div>
    </div>

    <!-- Copyright -->
    <div class="text-center text-xs text-neutral-400 pt-8">
      &copy; {new Date().getFullYear()} Joe the Painter. All rights reserved.
    </div>
  </div>
</footer>