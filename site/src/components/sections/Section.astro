---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'section'> {
  title?: string;
  subtitle?: string;
  centered?: boolean;
  background?: 'background' | 'surface' | 'primary-dark';
}

const { title, subtitle, centered = false, background = 'surface', class: className, ...attrs } = Astro.props;

const bgClass = {
  'background': 'bg-background',
  'surface': 'bg-surface',
  'primary-dark': 'bg-primary-dark text-white',
}[background];

const textClass = background === 'primary-dark' ? 'text-white' : 'text-text';
const subtitleClass = background === 'primary-dark' ? 'text-white opacity-90' : 'text-text-muted';
---

<section
  class:list={[
    'py-16 px-4 sm:px-6 lg:px-8',
    bgClass,
    className
  ]}
  {...attrs}
>
  <div class="max-w-6xl mx-auto">
    {title && (
      <h2
        class:list={[
          'font-heading text-4xl font-bold mb-4',
          centered ? 'text-center mx-auto' : '',
          textClass
        ]}
      >
        {title}
      </h2>
    )}
    {subtitle && (
      <p
        class:list={[
          'font-body text-lg mb-8 max-w-3xl',
          centered ? 'mx-auto text-center' : '',
          subtitleClass
        ]}
      >
        {subtitle}
      </p>
    )}
    <slot />
  </div>
</section>